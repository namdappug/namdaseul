<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê°œì¸ì‚¬ì´íŠ¸_ë‚¨ë‹¤ìŠ¬</title>

  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      background:#fdfeb2; 
      overflow-x:hidden;
      cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="%23599eeb" opacity="0.8"/><circle cx="12" cy="12" r="6" fill="%23599eeb"/></svg>') 12 12, auto;
    }
    
    /* hover ê°€ëŠ¥í•œ ìš”ì†Œì— hover ì‹œ í°ìƒ‰ ì›í˜• ì»¤ì„œ íë¦¬ê²Œ */
    a, button, .hotspot, .rolling-box{
      cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="white" opacity="0.5"/><circle cx="12" cy="12" r="6" fill="white" opacity="0.5"/></svg>') 12 12, pointer;
    }

    .stage{
      width:1920px;
      margin:0 auto;
      background:#fdfeb2;
      position:relative;
      padding-right: 40px;
    }

    .stack{font-size:0; line-height:0;}

    /* âœ… ì•„ë˜â†’ìœ„ë¡œ ì˜¬ë¼ì˜¤ëŠ” ë¦¬ë¹Œ */
    .slice{
      width:100%;
      height:auto;
      display:block;

      opacity:0;
      transform:translateY(70px);
      transition:opacity .7s ease-out, transform .7s ease-out;
      will-change:opacity, transform;
    }
    .slice.is-in{opacity:1; transform:translateY(0);}

    /* images_13_05ëŠ” ì›ë˜ ì†ë„ë¡œ */
    .slice[src*="images_13_05"]{
      transition:opacity .75s ease-out, transform .75s ease-out;
    }

    /* footer ì—­í•  - images_11, images_12ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì—†ìŒ */
    .slice[src*="images_11"],
    .slice[src*="images_12"]{
      opacity:1 !important;
      transform:none !important;
      transition:none !important;
    }
    
    /* images_11 ë°°ê²½ ì´ë¯¸ì§€ë„ ë°”ë¡œ ë³´ì´ê²Œ */
    .images-11-bg{
      opacity:1 !important;
      transform:none !important;
      transition:none !important;
    }

    /* =========================
       âœ… íŠ¹ì • ìŠ¬ë¼ì´ìŠ¤ ìœ„ì— ìš”ì†Œ ì–¹ê¸°ìš© wrap
    ========================== */
    .slice-wrap{
      position:relative;
      width:100%;
    }
    .slice-wrap > img{display:block;}

    /* âœ… images_04 wrap */
    .images-04-wrap{
      position: relative;
      width: 100%;
      left: 55%;
      transform: translateX(-55%);
    }
    .images-04-wrap > .slice{position: relative; transform: translateY(70px);}
    .images-04-wrap > .slice.is-in{transform: translateY(0);}

    .images-04-wrap .v-sticker-reverse{
      position: absolute;
      left: 58%;
      top: 38%;
      width: 160px;
      height: auto;
      transform: translate(-50%, -50%) scaleX(-1) translateY(-100px) rotate(15deg);
      transform-origin: 50% 50%;
      opacity: 0;
      transition: opacity 0.6s ease-out, transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
      pointer-events:none;
      z-index: 20;
    }
    .images-04-wrap.is-in .v-sticker-reverse{
      opacity: 1;
      transform: translate(-50%, -50%) scaleX(-1) translateY(0) rotate(8deg);
      transition-delay: 0.3s;
    }

    @media (prefers-reduced-motion: reduce){
      .slice{transition:none; transform:none; opacity:1;}
    }

    .hotspots{
      position:absolute;
      left:0; top:0;
      width:1920px;
      height:100%;
      pointer-events:none;
      z-index:10;
    }
    .hotspot{
      position:absolute;
      display:block;
      pointer-events:auto;
    }

    .arrow-img{position:relative;}
    .arrow-img .a2{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      height:22px;
      width:auto;
      left:140px;
      opacity:0;
      transition:.25s ease;
      pointer-events:none;
    }
    .arrow-img:hover .a2{opacity:1; left:150px;}

    /* âœ… images_01 ìœ„ì— ìŠ¤í‹°ì»¤ ì–¹ê¸° */
    .hero-wrap{position: relative; width: 100%;}
    .hero-wrap > img{display:block;}

    .hero-sticker{
      position: absolute;
      left: 65%;
      top: 50%;
      width: 195px;
      height: 195px;
      transform: translate(-50%, -50%);
      transform-origin: 50% 50%;
      animation: spin 6s linear infinite;
      pointer-events:none;
      z-index: 20;
      will-change: transform;
    }
    @keyframes spin{
      from{ transform: translate(-50%, -50%) rotate(0deg); }
      to  { transform: translate(-50%, -50%) rotate(360deg); }
    }

    /* âœ… images_13_05 ìœ„ì— Vëª¨ì–‘ ìŠ¤í‹°ì»¤ */
    .photo-wrap{position: relative; width: 100%;}
    .photo-wrap > img{display:block;}

    .v-sticker{
      position: absolute;
      left: 67%;
      top: 60%;
      width: 90px;
      height: auto;
      transform: translate(-50%, -50%) translateY(-100px) rotate(-15deg);
      transform-origin: 50% 50%;
      opacity: 0;
      transition: opacity 0.6s ease-out, transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
      pointer-events:none;
      z-index: 50;
    }
    .photo-wrap.is-in .v-sticker{
      opacity: 1;
      transform: translate(-50%, -50%) translateY(0) rotate(-8deg);
      transition-delay: 0.3s;
    }

    .pink-underline-box{
      position: absolute;
      left: 30%;
      top: 86%;
      transform: translate(-50%, -50%) scaleX(0);
      transform-origin: left center;
      width: 1020px;
      height: 30px;
      background-color: #febde9;
      opacity: 0.6;
      z-index: 15;
      pointer-events: none;
      margin-top: -15px;
      transition: transform 0.8s ease-out;
    }
    .images-04-wrap.is-in .pink-underline-box{
      transform: translate(-50%, -50%) scaleX(1);
      transition-delay: 0.3s;
    }

    /* =========================================
       âœ… [ì¶”ê°€] ë¡¤ë§(ìºëŸ¬ì…€) ë°•ìŠ¤
       - images_02 ìŠ¬ë¼ì´ìŠ¤ì˜ ë¹ˆ ì‚¬ê°í˜• ì˜ì—­ ìœ„ì— ì–¹ìŒ
    ========================================= */
    .rolling-box{
      position:absolute;
      left: 669px;
      top: 895px;
      width: 570px;
      height: 445px;
      background: transparent;
      overflow:hidden;
      z-index: 30;
      pointer-events:auto;
    }
.rolling-box-2{
  left: 669px;
  top: 1600px;   
  width: 570px;
  height: 445px;
}

.rolling-box-2 .rolling-slide img{
  object-position: center 20%;
}
    .rolling-viewport{
      width:100%;
      height:100%;
      overflow:hidden;
    }
    .rolling-track{
      display:flex;
      height:100%;
      transform: translateX(0);
      transition: transform 700ms ease;
      will-change: transform;
    }
    .rolling-slide{
      flex: 0 0 100%;
      height:100%;
    }
    .rolling-slide img{
      width:100%;
      height:100%;
      object-fit: cover; /* ì‚¬ì§„ ê½‰ ì±„ìš°ê¸° */
      display:block;
    }

.rolling-box:hover .rolling-btn{ opacity: 1; }
    .rolling-btn.prev{left:10px;}
    .rolling-btn.next{right:10px;}
    .rolling-btn:active{transform:translateY(-50%) scale(0.96);}
/* âœ… ë¡¤ë§ ë°•ìŠ¤ë„ images_13_05ì™€ í•¨ê»˜ ë¦¬ë¹Œë˜ê²Œ */
.rolling-box.reveal-sync{
  opacity: 0;
  transform: translateY(70px);
  transition: opacity .8s ease-out, transform .8s ease-out; /* images_13_05ë‘ ë§ì¶¤ */
  will-change: opacity, transform;
  transition-delay: 0.5s;
}
.rolling-box.reveal-sync.is-in{
  opacity: 1;
  transform: translateY(0);
}
/* =========================
   images_11 GOOD VIBES ë¡¤ë§
========================= */
.images-11-wrap{
  position: relative;
  width: 100%;
  overflow: hidden;
}

/* ë°°ê²½ */
.images-11-bg{
  opacity: 1 !important;
  transform: none !important;
  transition: none !important;
  width:100%;
  display:block;
}

/* ë§ˆí€´ ì˜ì—­ */
.goodvibes-marquee{
  position:absolute;
  left:0;
  bottom:10px;          /* ğŸ”¥ í…ìŠ¤íŠ¸ ì„¸ë¡œ ìœ„ì¹˜ (ì‹œì•ˆ ë§ê²Œ ì¡°ì ˆ) */
  width:100%;
  overflow:hidden;
  z-index:20;
}

/* ë¡¤ë§ íŠ¸ë™ */
.goodvibes-track{
  display:flex;
  width:max-content;
  animation: goodvibes-scroll 50s linear infinite;
}

/* í…ìŠ¤íŠ¸ ì´ë¯¸ì§€ */
.goodvibes-track img{
  height:48px;          /* ğŸ”¥ í…ìŠ¤íŠ¸ ë†’ì´ */
  margin-right:60px;   /* ë°˜ë³µ ê°„ê²© */
  display:block;
}

/* ê°€ë¡œ ë¬´í•œ ìŠ¤í¬ë¡¤ */
@keyframes goodvibes-scroll{
  from{
    transform: translateX(0);
  }
  to{
    transform: translateX(-50%);
  }
}

  </style>
</head>

<body>
  <main class="stage">
    <div class="stack">

      <div class="hero-wrap">
        <img class="slice" src="./image/images/images_01.jpg" alt="">
        <img class="hero-sticker" src="./image/main_sticker.png" alt="">
      </div>

      <!-- âœ… images_02 ìœ„ì— ë¡¤ë§ ë°•ìŠ¤ ì–¹ê¸° -->
      <div class="slice-wrap slice-02">
        <img class="slice" src="./image/images/images_02.jpg" alt="">

        <!-- âœ… ë¡¤ë§ ìºëŸ¬ì…€ -->
        <div class="rolling-box reveal-sync" id="rollingBox" aria-label="rolling gallery">
          <div class="rolling-viewport">
            <div class="rolling-track" id="rollingTrack">
              <!-- ğŸ”¥ ì‚¬ì§„ 4ê°œ ê²½ë¡œë§Œ ë°”ê¾¸ì„¸ìš” -->
              <div class="rolling-slide"><img src="./image/pink_1.jpg" alt=""></div>
              <div class="rolling-slide"><img src="./image/pink_2.jpg" alt=""></div>
              <div class="rolling-slide"><img src="./image/pink_3.jpg" alt=""></div>
              <div class="rolling-slide"><img src="./image/pink_4.jpg" alt=""></div>
            </div>
          </div>
          <button class="rolling-btn prev" type="button" aria-label="prev" id="rollingPrev">â€¹</button>
          <button class="rolling-btn next" type="button" aria-label="next" id="rollingNext">â€º</button>
        </div>
      </div>
<!-- âœ… ë¡¤ë§ ìºëŸ¬ì…€ (2) : ì‚¬ì§„ 3ê°œ -->
<div class="rolling-box rolling-box-2  reveal-sync" id="rollingBox2" aria-label="rolling gallery 2">
  <div class="rolling-viewport">
    <div class="rolling-track" id="rollingTrack2">
      <div class="rolling-slide"><img src="./image/blue_1.jpg" alt=""></div>
      <div class="rolling-slide"><img src="./image/blue_2.jpg" alt=""></div>
      <div class="rolling-slide"><img src="./image/blue_3.jpg" alt=""></div>
    </div>
  </div>

  <button class="rolling-btn prev" type="button" aria-label="prev" id="rollingPrev2">â€¹</button>
  <button class="rolling-btn next" type="button" aria-label="next" id="rollingNext2">â€º</button>
</div>
      <img class="slice" src="./image/images/images_03.jpg" alt="">

      <div class="images-04-wrap">
        <img class="slice" src="./image/images/images_04.jpg" alt="">
        <img class="v-sticker-reverse" src="./image/v.png" alt="V">
        <div class="pink-underline-box"></div>
      </div>

      <div class="photo-wrap">
        <img class="slice" src="./image/images/images_13_05.jpg" alt="">
        <img class="v-sticker" src="./image/v.png" alt="V">
      </div>

<!-- âœ… images_11 : GOOD VIBES ë¡¤ë§ ì˜ì—­ -->
<div class="slice images-11-wrap">
  <img class="images-11-bg" src="./image/images/images_11.jpg" alt="">

  <!-- ê°€ë¡œ ë¡¤ë§ í…ìŠ¤íŠ¸ -->
  <div class="goodvibes-marquee">
    <div class="goodvibes-track">
      <!-- ê°™ì€ ì´ë¯¸ì§€ ì—¬ëŸ¬ ë²ˆ (ëŠê¹€ ë°©ì§€) -->
      <img src="./image/designwithgoodvibe.png" alt="">
      <img src="./image/designwithgoodvibe.png" alt="">
      <img src="./image/designwithgoodvibe.png" alt="">
      <img src="./image/designwithgoodvibe.png" alt="">
    </div>
  </div>
</div>
      <img class="slice" src="./image/images/images_12.jpg" alt="">
    </div>

    <div class="hotspots">
      <a class="hotspot" href="index_sub.html"
         style="left:390px; top:110px; width:210px; height:35px;"></a>

      <a class="hotspot" href="index_sub.html"
         style="left:530px; top:1600px; width:70px; height:450px;"></a>

      <a class="hotspot" href="index_sub.html"
         style="left:660px; top:1145px; width:570px; height:450px;"></a>

      <a class="hotspot" href="index_sub.html"
         style="left:660px; top:1600px; width:570px; height:450px;"></a>

      <a class="hotspot" href="index_sub2.html"
         style="left:1300px; top:1145px; width:550px; height:550px;"></a>

      <a class="hotspot arrow-img" href="index_sub.html"
         style="left:645px; top:2080px; width:220px; height:30px;">
        <img class="a2" src="image/arrow2.png" alt="">
      </a>

      <a class="hotspot arrow-img" href="index_sub2.html"
         style="left:1390px; top:1800px; width:220px; height:30px;">
        <img class="a2" src="image/arrow2.png" alt="">
      </a>
    </div>
  </main>

  <script>
    /* =========================
       âœ… ê¸°ì¡´: slice ë¦¬ë¹Œ
    ========================== */
    const slices = document.querySelectorAll('.slice');

    const io = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const index = Array.from(slices).indexOf(entry.target);
          const src = entry.target.getAttribute('src') || '';

          let delay;
          
          // âœ… images_11ì€ ë”œë ˆì´ ì—†ì´ ë°”ë¡œ
          if (src.includes('images_11')) {
            delay = 0;
          // ê¸°ì¡´ images_12 ì²˜ë¦¬
          } else if (src.includes('images_12')) {
            const images11Index = Array.from(slices).findIndex(img =>
              (img.getAttribute('src') || '').includes('images_11')
            );
            delay = images11Index * 80;
          // ë‚˜ë¨¸ì§€ëŠ” ê¸°ì¡´ ë°©ì‹
          } else {
            delay = index * 80;
          }


          entry.target.style.transitionDelay = `${delay}ms`;

          setTimeout(() => {
            requestAnimationFrame(() => {
              entry.target.classList.add('is-in');
              
              // âœ… images_13_05ê°€ ì˜¬ë¼ì˜¬ ë•Œ ë¡¤ë§ ë°•ìŠ¤ 2ê°œë„ ê°™ì´ ë¦¬ë¹Œ
              const wrap = entry.target.closest('.photo-wrap, .images-04-wrap');
              if (wrap) wrap.classList.add('is-in');

              const srcNow = entry.target.getAttribute('src') || '';
              if (srcNow.includes('images_13_05')) {
                const rb1 = document.getElementById('rollingBox');
                const rb2 = document.getElementById('rollingBox2');
                setTimeout(() => {
                  if (rb1) rb1.classList.add('is-in');
                  if (rb2) rb2.classList.add('is-in');
                }, 150); // âœ… 0.15ì´ˆ ë’¤ì— ë”°ë¼ì˜¤ê²Œ
              }

              // âœ… images_11ì˜ rolling-boxëŠ” ë”œë ˆì´ ì—†ì´ ë°”ë¡œ
              if (srcNow.includes('images_11')) {
                const images11Wrap = entry.target.closest('.images-11-wrap');
                if (images11Wrap) {
                  const rollingBoxes = images11Wrap.querySelectorAll('.rolling-box.reveal-sync');
                  rollingBoxes.forEach(box => {
                    box.style.transitionDelay = '0s';
                    box.classList.add('is-in');
                  });
                }
              }
            });
          }, 50);

          io.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: "0px 0px -10% 0px"
    });

    window.addEventListener('load', () => {
      // images_11ì€ í˜ì´ì§€ ë¡œë“œ ì‹œ ë°”ë¡œ ë³´ì´ê²Œ
      const images11Elements = document.querySelectorAll('.images-11-wrap, .images-11-bg, [src*="images_11"]');
      images11Elements.forEach(el => {
        el.style.opacity = '1';
        el.style.transform = 'none';
        el.classList.add('is-in');
      });
      
      // images_11 ì˜ì—­ì˜ rolling-boxëŠ” ë°”ë¡œ ë‚˜íƒ€ë‚˜ê²Œ
      const images11Wrap = document.querySelector('.images-11-wrap');
      if (images11Wrap) {
        const rollingBoxes = images11Wrap.querySelectorAll('.rolling-box.reveal-sync');
        rollingBoxes.forEach(box => {
          box.style.transitionDelay = '0s';
          box.classList.add('is-in');
        });
      }
      
      setTimeout(() => {
        slices.forEach(img => {
          const src = img.getAttribute('src') || '';
          if (!src.includes('images_11') && !src.includes('images_12')) {
            io.observe(img);
          }
        });
      }, 100);
    });

function createInfiniteCarousel({
  boxId, trackId, prevId, nextId,
  interval = 2500,
  duration = 600
}){
  const box = document.getElementById(boxId);
  const track = document.getElementById(trackId);
  const prevBtn = document.getElementById(prevId);
  const nextBtn = document.getElementById(nextId);

  if (!box || !track || !prevBtn || !nextBtn) return;

  let slides = Array.from(track.children);
  const slideCount = slides.length;

  let idx = 0;
  let timer = null;
  let isAnimating = false;

  // ë§ˆì§€ë§‰ì— ì²« ìŠ¬ë¼ì´ë“œ ë³µì œ
  const firstClone = slides[0].cloneNode(true);
  track.appendChild(firstClone);

  function setTransition(on){
    track.style.transition = on ? `transform ${duration}ms ease` : 'none';
  }

  function moveTo(i, withAnim = true){
    idx = i;
    setTransition(withAnim);
    track.style.transform = `translateX(${-idx * 100}%)`;
  }

  function next(){
    if (isAnimating) return;
    isAnimating = true;
    moveTo(idx + 1, true);
  }

  function prev(){
    if (isAnimating) return;
    isAnimating = true;

    if (idx === 0){
      setTransition(false);
      track.style.transform = `translateX(${-slideCount * 100}%)`; // ë³µì œ ìœ„ì¹˜
      track.offsetHeight;
      moveTo(slideCount - 1, true);
      return;
    }
    moveTo(idx - 1, true);
  }

  track.addEventListener('transitionend', () => {
    if (idx === slideCount){
      setTransition(false);
      idx = 0;
      track.style.transform = `translateX(0%)`;
      track.offsetHeight;
    }
    isAnimating = false;
  });

  function play(){
    stop();
    timer = setInterval(() => next(), interval);
  }
  function stop(){
    if (timer) clearInterval(timer);
    timer = null;
  }

  nextBtn.addEventListener('click', () => { next(); play(); });
  prevBtn.addEventListener('click', () => { prev(); play(); });

  box.addEventListener('mouseenter', stop);
  box.addEventListener('mouseleave', play);

  moveTo(0, false);
  play();
}

/* âœ… 1ë²ˆ(ì‚¬ì§„ 4ê°œ) */
createInfiniteCarousel({
  boxId: 'rollingBox',
  trackId: 'rollingTrack',
  prevId: 'rollingPrev',
  nextId: 'rollingNext',
  interval: 4000,
  duration: 600
});

/* âœ… 2ë²ˆ(ì‚¬ì§„ 3ê°œ) */
createInfiniteCarousel({
  boxId: 'rollingBox2',
  trackId: 'rollingTrack2',
  prevId: 'rollingPrev2',
  nextId: 'rollingNext2',
  interval: 4000,
  duration: 600
});


  </script>
</body>
</html>
